{% extends "base.html" %}

{% block content %}
<div class="dashboard-grid">
    <!-- Profile Header -->
    <div class="profile-header-wrapper">
        <div class="top-row">
            <div class="profile-quick-info">
                <img id="profilePic" src="" alt="Profile Picture" class="quick-profile-pic">
                <div class="quick-profile-details">
                    <div class="quick-profile-name">
                        <span id="profileName"></span>
                        <span id="verifiedBadge" class="quick-verified-badge hidden">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2z"/>
                                <path d="m9 12 2 2 4-4"/>
                            </svg>
                        </span>
                    </div>
                </div>
            </div>
            <a href="/search" class="quick-search-button" title="New Search">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="m21 21-4.3-4.3"/>
                </svg>
            </a>
        </div>
        <!-- <a id="downloadButton" href="/download" class="quick-download-button" title="Download Data">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                <polyline points="7 10 12 15 17 10"/>
                <line x1="12" y1="15" y2="3"/>
            </svg>
            Download data
        </a> -->
        <a id="downloadButton" href="/download" class="quick-download-button" title="Download Data">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M8 17l4 4 4-4"/>
                <path d="M12 12v9"/>
                <path d="M20.88 18.09A5 5 0 0018 9h-1.26A8 8 0 103 16.29"/>
            </svg>
            Download data
        </a>
    </div>

    <div class="header">
        <h1>Overview</h1>
        <p>Here's overview of engagement rate for this profile</p>
    </div>
    <div class="main-content">
        <section class="engagement-section">
            <div class="engagement-stat" id="engagementStats">
                <!-- Stats will be loaded here -->
            </div>
        </section>

        <section class="graph-section">
            <h3>Performance Trends</h3>
            <p class="time-period">Last 12 Months</p>
            <div class="graph-container" id="performanceGraph">
                <!-- Plotly graph will be rendered here -->
            </div>
        </section>

        <section class="active-days-section">
            <h3>Your Most Active Days</h3>
            <p class="active-days-container">*days of the week with highest video views</p>
            <div class="days-stat" id="activeDaysChart">
                <!-- Plotly graph will be rendered here -->
            </div>
        </section>
        
    </div>

    <div class="performance-container">
 
        <section class="duration-section">
            <h3>Duration Breakdown</h3>
            <div class="duration-container" id="durationBreakdown">
                <!-- Plotly graph will be rendered here -->
            </div>
        </section>

        <section class="top-videos-section">
            <h3>Top 3 Most Liked Videos</h3>
            <div class="videos-grid" id="topVideos">
                <!-- Videos will be loaded here -->
            </div>
        </section>

    </div>
</div>

<!-- Loading State -->
<div id="loading-state" class="loading-state invisible hidden">
    <div class="loading-state__content">
        <p class="loading-state__text">Loading analytics...</p>
    </div>
</div>


{% endblock %}